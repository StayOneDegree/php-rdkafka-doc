<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Update the subscription set</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="rdkafka-kafkaconsumer.querywatermakoffsets.html">« RdKafka\KafkaConsumer::queryWatermarkOffsets</a></li>
      <li style="float: right;"><a href="rdkafka-kafkaconsumer.unsubscribe.html">RdKafka\KafkaConsumer::unsubscribe »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.rdkafka-kafkaconsumer.html">RdKafka\KafkaConsumer</a></li>
    <li>Update the subscription set</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="rdkafka-kafkaconsumer.subscribe" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">RdKafka\KafkaConsumer::subscribe</h1>
  <p class="verinfo">(PECL rdkafka &gt;= 1.0.0, librdkafka &gt;= 0.9)</p><p class="refpurpose"><span class="refname">RdKafka\KafkaConsumer::subscribe</span> &mdash; <span class="dc-title">Update the subscription set</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-rdkafka-kafkaconsumer.subscribe-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>RdKafka\KafkaConsumer::subscribe</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$topics</code></span>
   ) : <span class="type"><span class="type void">void</span></span></div>

  <p class="para rdfs-comment">
   Update the subscription set to <code class="parameter">topics</code>.
  </p>
  <p class="para">
   This overrides the current assignment. Any previous subscription will be unassigned and unsubscribed first.
  </p>
  <p class="para">
   The subscription set denotes the desired topics to consume. This
   set is provided to the partition assignor (one of the elected group
   members) for all clients which then uses the configured
   <code class="code">partition.assignment.strategy</code> to assign the subscription sets&#039;s
   topics&#039;s partitions to the consumers, depending on their subscription.
  </p>
  <p class="para">
   The result of such an assignment is a rebalancing which is either
   handled automatically in librdkafka or can be overriden by the application
   by providing a <a href="rdkafka-conf.setrebalancecb.html" class="link">rebalance_cb</a>.
  </p>
  <p class="para">
   The rebalancing updates what partitions are actually being fetched by
   the <a href="class.rdkafka-kafkaconsumer.html" class="classname">RdKafka\KafkaConsumer</a>.
  </p>
  <p class="para">
   Regex pattern matching automatically performed for topics prefixed
   with <code class="code">^</code> (e.g. <code class="code">^myPfx[0-9]_.*</code>)
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    The default configuration for subscribed topics can be changed by calling <span class="function"><a href="rdkafka-conf.set.html" class="function">RdKafka\Conf::set()</a></span>.
   </p>
  </p></blockquote>

 </div>


 <div class="refsect1 parameters" id="refsect1-rdkafka-kafkaconsumer.subscribe-parameters">
  <h3 class="title">Parameters</h3>
  <dl>

   
    <dt>
<code class="parameter">topics</code> (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)</dt>

    <dd>

     <p class="para">
      Array of topic names.
     </p>
     <p class="para">
      Regex pattern matching automatically performed for topics prefixed
      with <code class="code">^</code> (e.g. <code class="code">^myPfx[0-9]_.*</code>)
     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 errors" id="refsect1-rdkafka-kafkaconsumer.subscribe-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <ul class="simplelist">
   Throws <a href="class.rdkafka-exception.html" class="classname">RdKafka\Exception</a> on errors.
  </ul>
 </div>


 <div class="refsect1 examples" id="refsect1-rdkafka-kafkaconsumer.subscribe-examples">
  <h3 class="title">Examples</h3>
  <div class="example" id="example-14">
   <p><strong>Example #1 <span class="function"><strong>RdKafka\KafkaConsumer::subscribe()</strong></span> example</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$kafkaConsumer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">subscribe</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"logs"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"^myPfx[0-9]_.*"</span><span style="color: #007700">,<br />]);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-rdkafka-kafkaconsumer.subscribe-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="rdkafka-kafkaconsumer.getsubscription.html" class="function" rel="rdfs-seeAlso">RdKafka\KafkaConsumer::getSubscription()</a> - Return the current subscription</span></li>
    <li class="member"><span class="function"><a href="rdkafka-conf.setdefaulttopicconf.html" class="function" rel="rdfs-seeAlso">RdKafka\Conf::setDefaultTopicConf()</a> - Set default topic configuration</span></li>
   </ul>
  </p>
 </div>



</div></div></div></body></html>